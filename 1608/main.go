package main

import (
	"fmt"
	"sort"
)

func specialArray(nums []int) int {
	sort.Ints(nums)
	fmt.Println(nums[len(nums)-1])
	for i := 1; i <= nums[len(nums)-1]; i++ {
		idx := search(i, nums)
		for ; idx > 0 && nums[idx-1] == i; idx-- {
		}
		if len(nums)-idx == i {
			return i
		}

	}
	return -1
}
func search(target int, nums []int) int {

	left, right := 0, len(nums)-1
	for left <= right {
		mid := (left + right) / 2
		if nums[mid] == target {
			return mid
		}
		if nums[mid] < target {
			left = mid + 1
		} else {
			right = mid - 1
		}
	}
	return left
}
func main() {

	fmt.Println(specialArray([]int{100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100}))
}
